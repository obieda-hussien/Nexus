# ุญู ูุดููุฉ ุนุฏู ุธููุฑ ุชุจููุจ Rules ูู Cloud Firestore ๐ง

## ๐ฏ ุงููุดููุฉ
ุฅุฐุง ููุช ูุง ุชุฑู ุชุจููุจ "Rules" ูู Cloud Firestoreุ ููุฐุง ูุนูู ุฃู ูุงุนุฏุฉ ุจูุงูุงุช Firestore ูู ูุชู ุฅูุดุงุคูุง ุจุนุฏ.

## ๐ ุงูุญู ุฎุทูุฉ ุจุฎุทูุฉ

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช Cloud Firestore

1. **ุงูุชูู ุฅูู Firebase Console**
   - [https://console.firebase.google.com](https://console.firebase.google.com)
   - ุงุฎุชุฑ ูุดุฑูุน `nexus-012`

2. **ุงูุจุญุซ ุนู Firestore Database**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุจุญุซ ุนู **"Firestore Database"**
   - ุงุถุบุท ุนูููุง

3. **ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - ุฅุฐุง ุฑุฃูุช ุฒุฑ **"Create database"**ุ ุงุถุบุท ุนููู
   - ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ุจุงููุนูุ ุณุชุธูุฑ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ

4. **ุงุฎุชูุงุฑ ูุถุน ุงูุฃูุงู**
   - ุงุฎุชุฑ **"Start in test mode"** (ูุคูุช - ุณูุบูุฑู ูุงุญูุงู)
   - ูุฐุง ูุณูุญ ุจุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ููุฏุฉ 30 ูููุงู

5. **ุงุฎุชูุงุฑ ุงููููุน**
   - ุงุฎุชุฑ ุงููููุน ุงูุฃูุฑุจ ูู (ูุซู `europe-west3`)
   - ุงุถุบุท **"Done"**

### ุงูุฎุทูุฉ 2: ุงููุตูู ูุชุจููุจ Rules

ุจุนุฏ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. ุณุชุธูุฑ ุตูุญุฉ Firestore Database
2. ุณุชุฌุฏ ุงูุชุจููุจุงุช ูู ุงูุฃุนูู: **Data | Rules | Indexes | Usage**
3. ุงุถุบุท ุนูู ุชุจููุจ **"Rules"**

### ุงูุฎุทูุฉ 3: ุชุทุจูู ููุงุนุฏ ุงูุฃูุงู ุงูููุงุฆูุฉ

ุงูุตู ูุฐู ุงูููุงุนุฏ ูู ูุญุฑุฑ Rules:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ููุงุนุฏ ุงููุณุชุฎุฏููู
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // ููุงุนุฏ ุงูููุฑุณุงุช
    match /courses/{document=**} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // ููุงุนุฏ ุงูุฏุฑูุณ
    match /lessons/{document=**} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // ููุงุนุฏ ุชูุฏู ุงููุณุชุฎุฏููู
    match /user_progress/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // ููุงุนุฏ ุงูุชุญูููุงุช
    match /analytics_events/{document=**} {
      allow read, write: if request.auth != null;
    }
    
    // ููุงุนุฏ ุณุฌูุงุช ุงูุฃูุงู
    match /security_logs/{document=**} {
      allow read, write: if request.auth != null;
    }
    
    // ูุฌููุนุฉ ุงูุงุฎุชุจุงุฑุงุช
    match /test/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

### ุงูุฎุทูุฉ 4: ูุดุฑ ุงูููุงุนุฏ
1. ุงุถุบุท **"Publish"** ุฃุนูู ูุญุฑุฑ ุงูููุงุนุฏ
2. ุฃูุฏ ุงููุดุฑ ุจุงูุถุบุท ุนูู **"Publish"** ูุฑุฉ ุฃุฎุฑู

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุฅุนุฏุงุฏ

### ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุชุดุฎูุต ุงููุฏูุฌุฉ
1. ุงูุชุญ ุงููููุน ูุณุฌู ุงูุฏุฎูู
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุฅุนุฏุงุฏุงุช (โ๏ธ) ูู ููุญุฉ ุงูุชุญูู
3. ุณุชุธูุฑ ุฃุฏุงุฉ ุงูุชุดุฎูุต ุงูุดุงููุฉ
4. ุชุญูู ูู ุฃู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุชุธูุฑ โ

### ุฅุฐุง ุธูุฑุช ูุดุงูู
ุงุณุชุฎุฏู ุฒุฑ **"๐ ุชุดุฎูุต ุงููุดููุฉ"** ูู ุงููุงุฌูุฉ ููุญุตูู ุนูู:
- ุชุดุฎูุต ุชููุงุฆู ููุดุงูู Firebase
- ุฑูุงุจุท ูุจุงุดุฑุฉ ูู Firebase Console
- ุญููู ูุฎุตุตุฉ ููู ูุดููุฉ

## ๐จ ููุงุญุธุงุช ูููุฉ

### ุงููุฑู ุจูู ููุงุนุฏ ุงูุจูุงูุงุช
- **Realtime Database**: ูุณุชุฎุฏู `databaseURL` ูู ุงูุฅุนุฏุงุฏ
- **Cloud Firestore**: ูุณุชุฎุฏู `projectId` ูู ุงูุฅุนุฏุงุฏ

**ูุญู ูุณุชุฎุฏู Cloud Firestore ููุท** ูู ูุฐุง ุงููุดุฑูุน.

### ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ ุงูุตุญูุญ
ุชุฃูุฏ ูู ุฃู ุงูููุฏ ูุณุชุฎุฏู:
```javascript
import { getFirestore } from 'firebase/firestore';
const db = getFirestore(app);
```

ูููุณ:
```javascript
import { getDatabase } from 'firebase/database';
const db = getDatabase(app);
```

## ๐ ุจุนุฏ ูุฌุงุญ ุงูุฅุนุฏุงุฏ

ุณุชุชููู ูู:
- โ ุฅูุดุงุก ุญุณุงุจุงุช ุฌุฏูุฏุฉ ูุญูุธ ุงูุจูุงูุงุช
- โ ุชุณุฌูู ุงูุฏุฎูู ุจุฏูู ูุดุงูู ุชุญููู
- โ ุนุฑุถ ููุญุฉ ุงูุชุญูู ุจุฌููุน ุงูุจูุงูุงุช
- โ ุงุณุชุฎุฏุงู ุฌููุน ูุฒุงูุง ุงูููุตุฉ ุงูุชุนููููุฉ

ุงูุขู ุงููููุน ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ุงูุฎุทุฉ ุงููุฌุงููุฉ ูู Firebase!